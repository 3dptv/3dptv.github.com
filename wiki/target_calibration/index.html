<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Target calibration | ptv</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../../sites/all/themes/oxymoron/favicon.ico" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../../sites/all/modules/origo_home/css/origo_home-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/node/node-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/system/defaults-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/system/system-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/system/system-menus-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/user/user-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/modules/geshifilter/geshifilter-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/modules/google_cse/google_cse-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/modules/img_assist/img_assist-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/modules/mediawiki_filter/mediawiki_filter-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/forum/forum-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/modules/views/css/views-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/comment/comment-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/themes/oxymoron/css/style-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/themes/oxymoron/css/mainmenu-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/themes/oxymoron/css/iconsmenu-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/themes/oxymoron/css/colours/night-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/themes/oxymoron/css/colours/day-36200.css" />
<link type="text/css" rel="stylesheet" media="print" href="../../sites/all/themes/oxymoron/css/print-36200.css" />
  <script type="text/javascript" src="../../misc/jquery.js?n"></script>
<script type="text/javascript" src="../../misc/drupal.js?n"></script>
<script type="text/javascript" src="../../sites/all/modules/mediawiki_filter/mediawiki_filter.js?n"></script>
<script type="text/javascript" src="../../sites/all/modules/google_analytics/googleanalytics.js?n"></script>
<script type="text/javascript" src="../../sites/all/modules/img_assist/img_assist.js?n"></script>
<script type="text/javascript" src="../../sites/all/themes/oxymoron/js/jquery_example/jquery.example.min.js?n"></script>
<script type="text/javascript" src="../../sites/all/themes/oxymoron/js/oxymoron.js?n"></script>
<script type="text/javascript" src="../../sites/all/themes/oxymoron/js/mainmenu.js?n"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, { "basePath": "/", "googleanalytics": { "trackOutgoing": "1", "trackMailto": "1", "trackDownload": "1", "trackDownloadExtensions": "7z|aac|avi|csv|doc|exe|flv|gif|gz|jpe?g|js|mp(3|4|e?g)|mov|pdf|phps|png|ppt|rar|sit|tar|torrent|txt|wma|wmv|xls|xml|zip" } });
//--><!]]>
</script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
Drupal.behaviors.issue_tracker = function(context) {
        $('a[class=extiw issue]').each(function() {
          // extract issue number from the URL
          var issueURL = $(this)[0].href;
          var issueURLSplitted = issueURL.split('/')
          var issueNumber = issueURLSplitted[issueURLSplitted.length - 1];

          var target= $(this);
          $.get(Drupal.settings.basePath + "ajax/issue_get_status/" + issueNumber, null, function(response) {
            var result = Drupal.parseJson(response);

            var decorationString = "";
            if (result.issueClosedStatus == true) {
              decorationString = 'line-through';
            }
            $(target).css('text-decoration', decorationString);
          });
        });
      }
//--><!]]>
</script>
  <style type="text/css" media="print">@import "../../sites/all/themes/oxymoron/css/print.css";</style>
  <script type="text/javascript"> </script>
  <!--[if IE 7]>
  	<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/themes/oxymoron/css/style_ie7.css" />
  <![endif]-->

</head>

<body>

<!-- START HEADER -->
    <div id="mainheader">
    
        <div id="logo">
			            <a class="logo_link" href="../../index.html" title="Home" rel="home" id="logo">
                <img src="../../sites/ptv/files/ptv_0.jpg" alt="Home"/>
            </a>
						            <div id="site-name-frame">
				                <h1 class='site-name'><a href="../../index.html" title="Home">3D-PTV</a></h1>
				            </div>
        </div>

        <ul id="user-info">
                                  <li><a href="../../user/register/index-22927.html">Register</a></li>
                    <li><a href="../../user/index-22927.html">Sign in</a></li>
                      </ul>
        <div id='search-box'><form action="/wiki/target_calibration"  accept-charset="UTF-8" method="post" id="search-theme-form">
<div><div class="form-item" id="edit-search-theme-form-1-wrapper">
 <input type="text" maxlength="128" name="search_theme_form" id="edit-search-theme-form-1" size="15" value="" title="Enter the terms you wish to search for." class="form-text" />
</div>
<input type="submit" name="op" id="edit-submit" value="Search"  class="form-submit" />
<input type="hidden" name="form_build_id" id="form-17e1acf47b2da79eff6ba4edf00c8e03" value="form-17e1acf47b2da79eff6ba4edf00c8e03"  />
<input type="hidden" name="form_id" id="edit-search-theme-form" value="search_theme_form"  />
<input type="hidden" name="3" id="edit-3" value=""  />

</div></form>
</div>
	
		<div id="iconsmenu">
		  <!-- START TOP NAV -->
					  					  
<ul id='navlist'>
	<li><a href="../../index.html" title="Home" class="home"><div class="home"><span class="notext">Home</span></div></a></li>
	<li><a href="../../download/index.html" title="Download" class="download"><div class="download"><span class="notext">Download</span></div></a></li>
	<li><a href="../../forum/index.html" title="Forum" class="forum"><div class="forum"><span class="notext">Forum</span></div></a></li>
	<li><a href="../../blog/index.html" title="Issues" class="blog"><div class="blog"><span class="notext">Blog</span></div></a></li>
	<li><a href="../../issues/index.html" title="Issues" class="issues"><div class="issues"><span class="notext">Issues</span></div></a></li>
	<li><a href="../../statistics/index.html" title="Statistics" class="statistics"><div class="statistics"><span class="notext">Statistics</span></div></a></li>
</ul>
					  					  <br class="clear" />
			  <!-- END TOP NAV -->
		</div>
				<div class='main_navi'>
			<div class="clear-block block block-origo_home" id="block-origo_home-0">
  
  <div class="content"><ul class="menu"><li class="collapsed"><a href="../../search_global/index.html">Global Search</a></li></ul></div>
</div>
		</div>
			
    </div>
<!-- END HEADER -->

<!-- START MAIN -->
	<div class="tabs"></div>

	<div id="main">
		<!-- START TITLE -->
				   <h1 class="title">
			 			 Target calibration			 		   </h1>
				<!-- END TITLE -->

		
		
		<!-- CONTENT START -->
		     <div class="node">
        <div class="clear-block">
        <span class="submitted"></span>
    <span class="taxonomy"></span>
    <div class="content"><table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><strong>Contents</strong></div>
<div id="tocbody">
<ul>
<li class="toclevel-1"><a href="#Basic_idea"><span class="tocnumber">1</span> <span class="toctext">Basic idea</span></a></li>
<li class="toclevel-1"><a href="#Step_I"><span class="tocnumber">2</span> <span class="toctext">Step I</span></a></li>
<li class="toclevel-1"><a href="#Step_II"><span class="tocnumber">3</span> <span class="toctext">Step II</span></a></li>
<li class="toclevel-1"><a href="#Step_III"><span class="tocnumber">4</span> <span class="toctext">Step III</span></a></li>
</ul></div>
</td></tr></table><a name="Basic_idea"></a><h2> <span class="mw-headline"><b><font color="steelblue">Basic idea</font></b></span></h2>
<p>The most common way for calibration is to use a calibration target. The basic idea is to use a reference object with known coordinates. The calibration target should be seen by four cameras. The steps for calibration are stated below.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:182px;"><a href="../../image/calibration_target/index.html" class="image" title=""><img alt="" src="../../sites/ptv/files/images/calibration_target.preview.png" width="180" height="144.289544236" border="0" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify" style="float:right"><a href="../../image/calibration_target/index.html" class="internal" title="Enlarge"><strong>+</strong></a></div></div></div></div>
<p><br />
There are four folders in “working folder”. 
</p>
<ul><li>img
</li><li>parameters
</li><li>res
</li><li>calibration
</li></ul>
<p><br />
</p>
<a name="Step_I"></a><h2> <span class="mw-headline"><b><font color="steelblue">Step I</font></b></span></h2>
<div class="thumb tright"><div class="thumbinner" style="width:182px;"><a href="../../image/main_menu/index.html" class="image" title=""><img alt="" src="../../sites/ptv/files/images/1.png" width="180" height="66.1589403974" border="0" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify" style="float:right"><a href="../../image/main_menu/index.html" class="internal" title="Enlarge"><strong>+</strong></a></div></div></div></div>
<p>The main menu is shown in Figure-1. There are 10 sections. 
Choose “Change parameters” --&gt; “Main Parameters” 
The parameters should be set as shown in Figure-2.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:182px;"><a href="../../image/main_parameters/index.html" class="image" title=""><img alt="" src="../../sites/ptv/files/images/3.preview.png" width="180" height="294.645030426" border="0" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify" style="float:right"><a href="../../image/main_parameters/index.html" class="internal" title="Enlarge"><strong>+</strong></a></div></div></div></div>
<ul><li>Number of cameras = 4
</li></ul>
<ul><li>Name of 1.image=img/first image of the first camera
</li><li>Name of 2.image=img/first image of the second camera
</li><li>Name of 3.image=img/first image of the third camera
</li><li>Name of 4.image=img/first image of the fourth camera
</li></ul>
<ul><li>Calibration data for 1-4.camera=They should have the same path as the calibration images in calibration parameters
</li></ul>
<ul><li>Refractive indices --&gt; air=1, glass=1.49, water=1.33
</li></ul>
<ul><li>Thickness of the glass should be chosen according to the experimental setup. (It is set to 7.5 mm for this experiment)
</li></ul>
<p><br />
</p>
<a name="Step_II"></a><h2> <span class="mw-headline"><b><font color="steelblue">Step II</font></b></span></h2>
<div class="thumb tright"><div class="thumbinner" style="width:182px;"><a href="../../image/ori_files/index.html" class="image" title=""><img alt="" src="../../sites/ptv/files/images/5.preview.png" width="180" height="59.9160839161" border="0" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify" style="float:right"><a href="../../image/ori_files/index.html" class="internal" title="Enlarge"><strong>+</strong></a></div></div></div></div>
<ul><li>Create four ori extended files for four cameras in Calibration folder. In the ori files copy the same parameters shown in the Figure-3. The ori files contains the coordinates of the cameras with respect to the reference calibration target, the camera angles and the focal distance. The first row is the camera position. The second row tells how the camera is rotated around x, y, and z-axis. The last number is very important: it tells the ‘focal distance’. How can it be guessed: In Our situation we have an ratio of “world image” to “Chip image” of 500mm to 65mm (384 pixels mal 17microns), e.g. 1:8. The distance from lens to calibration target is about 800mm. Hence our focal distance is about 100mm.
</li></ul>
<ul><li>Create a txt extended file named calblock.txt. This file contains the coordinates of the calibration target.
</li></ul>
<ul><li>Choose “Change parameters” --&gt; “Calibration Parameters” 
</li></ul>
<p>The parameters should be set as shown in Figure-4.
</p><p><br />
</p>
<div class="thumb tright"><div class="thumbinner" style="width:182px;"><a href="../../image/cal/index.html" class="image" title=""><img alt="" src="../../sites/ptv/files/images/41.preview.png" width="180" height="295.944333996" border="0" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify" style="float:right"><a href="../../image/cal/index.html" class="internal" title="Enlarge"><strong>+</strong></a></div></div></div></div>
<ul><li>Calibration data images for camera 1-4=Calibration/name of the image (copy the same path to Calibration data for 1-4.camera in Main parameters)
</li></ul>
<ul><li>Orientation data=Calibration/names of the ori files.
</li></ul>
<ul><li>File of the Coordinates on Plate=Calibration/calblock.txt
</li></ul>
<ul><li>Point number for manual pre-calibration: The numbers should be set as chosen in manual orientation.
</li></ul>
<p><br />
</p>
<a name="Step_III"></a><h2> <span class="mw-headline"><b><font color="steelblue">Step III</font></b></span></h2>
<div class="thumb tright"><div class="thumbinner" style="width:182px;"><a href="../../image/calibmenu/index.html" class="image" title=""><img alt="" src="../../sites/ptv/files/images/6_0.preview.png" width="180" height="92.3430321593" border="0" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify" style="float:right"><a href="../../image/calibmenu/index.html" class="internal" title="Enlarge"><strong>+</strong></a></div></div></div></div>
<ul><li>Main menu in Figure-1 --&gt; Calibration --&gt; Show Calib. Image (Shown in Figure-5)
</li><li>Click Detection
</li><li>Click Manual orientation and choose four points for each camera. Once you have successfully done this you can check your clicks with the menu “Orientation with file”
</li></ul>
<ul><li>Click Show initial guess. The code shows you the initial guess. The yellow dots show where the dots from the calibration plane would end up on your images if the initial guess would be correct.
</li></ul>
<ul><li>To establish which detected point belongs to which calibration point click “Sortgrid”.
</li></ul>
<p>The parameters in the ori files will be changed. They are next to your initial guesses. The first six numbers are changed, i.e. camera position and orientation have been adapted. They will be used as starting values for the actual calibration in the next step.
</p>
<ul><li>Repeat these steps until the yellow dots match with the points in the calibration images.
</li></ul>
<ul><li>Click orientation 
</li></ul>
<p><br />
</p><p><br />
<a href="../Documentation_and_manual/index.html" class="extiw path" title="path:wiki/Documentation and manual"> back to Documentation and manual</a>
</p></div>
    </div>
          <div class="links">&raquo; <ul class="links inline"><li class="first last comment_forbidden"><span class="comment_forbidden &lt;a href=&quot;/user/login?destination=comment%2freply%2f93%23comment-form&quot;&gt;login&lt;/a&gt; or &lt;a href=&quot;/user/register?destination=comment%2freply%2f93%23comment-form&quot;&gt;register&lt;/a&gt; to post comments"><a href="../../user/login/index-12703.html">Login</a> or <a href="../../user/register/index-12703.html">register</a> to post comments</span></li>
</ul></div>
      </div>
		<!-- CONTENT END -->

		
	</div>
<!-- END MAIN -->

<!-- START FOOTER -->
	<div id="footer">
		<a href="http://oriact.com">Powered by</a><br/>
		<a href="http://oriact.com"><img width="85" height="20" src="../../sites/all/themes/oxymoron/oriact_button.png" alt="Powered by Oriact"/></a><br/>
		<div class="clear-block block block-origo_eth" id="block-origo_eth-0">
  
  <div class="content"><a href="http://origo.ethz.ch">Hosted on </a><br/><a href="http://origo.ethz.ch"><img width="85" height="20" src="../../sites/all/themes/oxymoron/origo_button_1.png" alt="Hosted on Origo"/></a><br/><a href="http://origo.ethz.ch">a project by ETH Zürich</a><br/>&copy;<a href="http://origo.ethz.ch"> 2006 - 2010</a><br/><a href="../../global/terms_of_use/index.html">Terms of Use</a><br/></div>
</div>
	</div>
<!-- END FOOTER -->

  <!-- CLOSURE (e.g. javascript) -->
    <script type="text/javascript" src="../../sites/all/modules/google_cse/google_cse.js?n"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, { "googleCSE": { "language": "en" } });
//--><!]]>
</script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
if (Drupal.jsEnabled) {
      $(document).ready(function() {
        $('a.origo-private').each(function() {
          $(this).append('&nbsp;<img src="/sites/all/themes/oxymoron/private-page-link.png" alt="private"/>');
        });
      });
    }
//--><!]]>
</script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
if (Drupal.jsEnabled) {
      $(document).ready(function() {
        $('a.external').each(function() {
          $(this).append('&nbsp;<img src="/sites/all/modules/mediawiki_filter/external.png" alt="external"/>');
        });
      });
    }
//--><!]]>
</script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
var _gaq = _gaq || [];_gaq.push(["_setAccount", "UA-1676928-1"]);_gaq.push(["_trackPageview"]);(function() {var ga = document.createElement("script");ga.type = "text/javascript";ga.async = true;ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";var s = document.getElementsByTagName("script")[0];s.parentNode.insertBefore(ga, s);})();
//--><!]]>
</script>

</body>

</html>
<!-- Localized -->