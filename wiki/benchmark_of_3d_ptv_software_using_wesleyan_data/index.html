<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>benchmark of 3d ptv software using wesleyan data | ptv</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../../sites/all/themes/oxymoron/favicon.ico" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../../sites/all/modules/origo_home/css/origo_home-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/node/node-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/system/defaults-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/system/system-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/system/system-menus-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/user/user-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/modules/geshifilter/geshifilter-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/modules/google_cse/google_cse-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/modules/img_assist/img_assist-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/modules/mediawiki_filter/mediawiki_filter-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/forum/forum-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/modules/views/css/views-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/comment/comment-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/themes/oxymoron/css/style-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/themes/oxymoron/css/mainmenu-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/themes/oxymoron/css/iconsmenu-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/themes/oxymoron/css/colours/night-36200.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/themes/oxymoron/css/colours/day-36200.css" />
<link type="text/css" rel="stylesheet" media="print" href="../../sites/all/themes/oxymoron/css/print-36200.css" />
  <script type="text/javascript" src="../../misc/jquery.js?n"></script>
<script type="text/javascript" src="../../misc/drupal.js?n"></script>
<script type="text/javascript" src="../../sites/all/modules/mediawiki_filter/mediawiki_filter.js?n"></script>
<script type="text/javascript" src="../../sites/all/modules/google_analytics/googleanalytics.js?n"></script>
<script type="text/javascript" src="../../sites/all/modules/img_assist/img_assist.js?n"></script>
<script type="text/javascript" src="../../misc/tableheader.js?n"></script>
<script type="text/javascript" src="../../sites/all/themes/oxymoron/js/jquery_example/jquery.example.min.js?n"></script>
<script type="text/javascript" src="../../sites/all/themes/oxymoron/js/oxymoron.js?n"></script>
<script type="text/javascript" src="../../sites/all/themes/oxymoron/js/mainmenu.js?n"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, { "basePath": "/", "googleanalytics": { "trackOutgoing": "1", "trackMailto": "1", "trackDownload": "1", "trackDownloadExtensions": "7z|aac|avi|csv|doc|exe|flv|gif|gz|jpe?g|js|mp(3|4|e?g)|mov|pdf|phps|png|ppt|rar|sit|tar|torrent|txt|wma|wmv|xls|xml|zip" } });
//--><!]]>
</script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
Drupal.behaviors.issue_tracker = function(context) {
        $('a[class=extiw issue]').each(function() {
          // extract issue number from the URL
          var issueURL = $(this)[0].href;
          var issueURLSplitted = issueURL.split('/')
          var issueNumber = issueURLSplitted[issueURLSplitted.length - 1];

          var target= $(this);
          $.get(Drupal.settings.basePath + "ajax/issue_get_status/" + issueNumber, null, function(response) {
            var result = Drupal.parseJson(response);

            var decorationString = "";
            if (result.issueClosedStatus == true) {
              decorationString = 'line-through';
            }
            $(target).css('text-decoration', decorationString);
          });
        });
      }
//--><!]]>
</script>
  <style type="text/css" media="print">@import "../../sites/all/themes/oxymoron/css/print.css";</style>
  <script type="text/javascript"> </script>
  <!--[if IE 7]>
  	<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/themes/oxymoron/css/style_ie7.css" />
  <![endif]-->

</head>

<body>

<!-- START HEADER -->
    <div id="mainheader">
    
        <div id="logo">
			            <a class="logo_link" href="../../index.html" title="Home" rel="home" id="logo">
                <img src="../../sites/ptv/files/ptv_0.jpg" alt="Home"/>
            </a>
						            <div id="site-name-frame">
				                <h1 class='site-name'><a href="../../index.html" title="Home">3D-PTV</a></h1>
				            </div>
        </div>

        <ul id="user-info">
                                  <li><a href="../../user/register/index-40540.html">Register</a></li>
                    <li><a href="../../user/index-40540.html">Sign in</a></li>
                      </ul>
        <div id='search-box'><form action="/wiki/benchmark_of_3d_ptv_software_using_wesleyan_data"  accept-charset="UTF-8" method="post" id="search-theme-form">
<div><div class="form-item" id="edit-search-theme-form-1-wrapper">
 <input type="text" maxlength="128" name="search_theme_form" id="edit-search-theme-form-1" size="15" value="" title="Enter the terms you wish to search for." class="form-text" />
</div>
<input type="submit" name="op" id="edit-submit" value="Search"  class="form-submit" />
<input type="hidden" name="form_build_id" id="form-5828118a06485841952123d452703ba5" value="form-5828118a06485841952123d452703ba5"  />
<input type="hidden" name="form_id" id="edit-search-theme-form" value="search_theme_form"  />
<input type="hidden" name="3" id="edit-3" value=""  />

</div></form>
</div>
	
		<div id="iconsmenu">
		  <!-- START TOP NAV -->
					  					  
<ul id='navlist'>
	<li><a href="../../index.html" title="Home" class="home"><div class="home"><span class="notext">Home</span></div></a></li>
	<li><a href="../../download/index.html" title="Download" class="download"><div class="download"><span class="notext">Download</span></div></a></li>
	<li><a href="../../forum/index.html" title="Forum" class="forum"><div class="forum"><span class="notext">Forum</span></div></a></li>
	<li><a href="../../blog/index.html" title="Issues" class="blog"><div class="blog"><span class="notext">Blog</span></div></a></li>
	<li><a href="../../issues/index.html" title="Issues" class="issues"><div class="issues"><span class="notext">Issues</span></div></a></li>
	<li><a href="../../statistics/index.html" title="Statistics" class="statistics"><div class="statistics"><span class="notext">Statistics</span></div></a></li>
</ul>
					  					  <br class="clear" />
			  <!-- END TOP NAV -->
		</div>
				<div class='main_navi'>
			<div class="clear-block block block-origo_home" id="block-origo_home-0">
  
  <div class="content"><ul class="menu"><li class="collapsed"><a href="../../search_global/index.html">Global Search</a></li></ul></div>
</div>
		</div>
			
    </div>
<!-- END HEADER -->

<!-- START MAIN -->
	<div class="tabs"></div>

	<div id="main">
		<!-- START TITLE -->
				   <h1 class="title">
			 			 benchmark of 3d ptv software using wesleyan data			 		   </h1>
				<!-- END TITLE -->

		
		
		<!-- CONTENT START -->
		     <div class="node">
        <div class="clear-block">
        <span class="submitted"></span>
    <span class="taxonomy"></span>
    <div class="content"><a name="Result_of_our_software_tracking_of_the_data_posted_by_Greg_Voth_Wesleyan_University"></a><h2> <span class="mw-headline">Result of our software tracking of the data posted by Greg Voth, Wesleyan University</span></h2>
<p>The data is posted on 
<a href="http://gvoth.web.wesleyan.edu/PTV/Wes_data.htm" class="external free" title="http://gvoth.web.wesleyan.edu/PTV/Wes_data.htm">http://gvoth.web.wesleyan.edu/PTV/Wes_data.htm</a>
</p><p>After some transformations (the detailed instructions will be posted soon), Alex got this:
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:182px;"><a href="../../image/trajectories_from_wesleyan_uni_data_view_1/index.html" class="image" title=""><img alt="" src="../../sites/ptv/files/images/screen1_0.preview.png" width="180" height="157.279651795" border="0" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify" style="float:right"><a href="../../image/trajectories_from_wesleyan_uni_data_view_1/index.html" class="internal" title="Enlarge"><strong>+</strong></a></div></div></div></div></div>
<p>There are 310 trajectories of various length, few longest are 200 frames (full run) long:
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:182px;"><a href="../../image/histogram_of_trajectory_length_wesleyan_data/index.html" class="image" title=""><img alt="" src="../../sites/ptv/files/images/hist_trajlen.preview.png" width="180" height="135.113350126" border="0" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify" style="float:right"><a href="../../image/histogram_of_trajectory_length_wesleyan_data/index.html" class="internal" title="Enlarge"><strong>+</strong></a></div></div></div></div></div>
<a name="some_e-mail_that_should_be_converted_into_wiki_page"></a><h3> <span class="mw-headline"> some e-mail that should be converted into wiki page </span></h3>
<ol><li> The data is Wesleyan data. 
</li><li> The software is 3D-PTV software, v1.02 (I installed the batteries-included-version <a href="../Windows_Installer_Package/index.html" class="external free" title="http://ptv.origo.ethz.ch/wiki/Windows_Installer_Package">http://ptv.origo.ethz.ch/wiki/Windows_Installer_Package</a>) 
</li><li> All the changes were performed in the /test subfolder of this installation in order to be sure that the same parameters are set up. (parameters.zip is attached). 
</li></ol>
<ol><li> our coordinate system is different and it's not flexible, so I had to change it to: <div class="geshifilter"><div class="geshifilter-text" style="font-family: monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">x -&gt; z, y -&gt; x, z -&gt; y</div></li></ol></div></div>
</li><li> renamed image files to the format of <span class="geshifilter"><code class="text geshifilter-text">&nbsp;cam1.10001 - cam4.10200</code></span>(I added 10000 for the convenience, I never sure about 0xxx format of the extension)
</li><li> renamed calibration images <div class="geshifilter"><div class="geshifilter-text" style="font-family: monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">av_calib1_edit -&gt; cam1.tif </div></li></ol></div></div>
</li><li> We use 'negative' images, i.e. white dots on dark background. some matlab trick is attached
</li></ol>
<p><div class="geshifilter"><div class="geshifilter-text" style="font-family: monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">&nbsp;</div></li>
<li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">function wesleyan_calib_img_to_zurich_img(imgfilename)</div></li>
<li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">if ~nargin</div></li>
<li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">&nbsp; &nbsp; imgfilename = 'E:\PTV\New Folder\test\cal\av_calib1_edit.tif';</div></li>
<li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">end</div></li>
<li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">cam = imread(imgfilename);</div></li>
<li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">imshow([cam,imcomplement(cam)])</div></li>
<li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">[path,name,ext] = fileparts(imgfilename);</div></li>
<li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">&nbsp;</div></li>
<li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">imwrite(imcomplement(cam),'cam4.tif','compression','none');</div></li></ol></div></div>
</p>
<ol><li> created orientation files. first version was simply the copy of the information from Wes_data.htm, e.g. for camera 1:
</li></ol>
<p><div class="geshifilter"><div class="geshifilter-text" style="font-family: monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">650.0 70.0 650.0 &lt;-- x,y,z camera position</div></li>
<li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">0.2 0.0 0.0 &nbsp; &nbsp; &nbsp;&lt;-- angles, 0.2 rad looking downwards</div></li>
<li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">1 0 0</div></li>
<li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">0 1 0</div></li>
<li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">0 0 1</div></li>
<li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">&nbsp;</div></li>
<li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">0.0 0.0 &nbsp; &nbsp; &nbsp; &nbsp; &lt;--- xp,yp, default</div></li>
<li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">100.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;--- focal distance, unknown parameter</div></li>
<li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">&nbsp;</div></li>
<li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">500.0 0.0001 500.0 &lt;--- interface, perpendicular to the camera, radius of the tank</div></li></ol></div></div>
</p>
<ol><li> the attached *.ori files are already after static (using the calibration plate) and dynamic calibration ("shaking"). 
</li><li> created <span class="geshifilter"><code class="text geshifilter-text">&nbsp;calblock.txt</code></span> file that numbers the points on the calibration plate from 1 to 100, such that:
</li></ol>
<p><div class="geshifilter"><div class="geshifilter-text" style="font-family: monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">1 ... 9</div></li>
<li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">.......</div></li>
<li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">91 .. 100</div></li></ol></div></div>
top left is 1 and top right is 9, bottom left is 91 and bottom right is 100. the origin is point 95. 
</p>
<ol><li> changed the Main Parameters to have 10 mm glass and images of the 1280 x 1024 pixels. I didn't know the pixel size, changed it to 10 micron (should not be a big problem on average) and I do not know how much it affects the final results.  
</li><li> using manual tagging of points 1,9,91,100 and few iterations, the data was pretty well calibrated, due to large distance from the calibration plane, the numbers are below 1 micron accuracy. 
</li><li> added dynamic calibration using first 50 frames. the parameters folder is zipped and attached. 
</li><li> standard run of the 3D-PTV software (v1.02, from the standalone installation, see origo) with sequence/tracking and tracking backwards created the data which is attached in wes_data.zip. The files were converted from _targets files to the cam1,2,3,4_2D.dat using our Matlab subroutine (attached, et_targets_to_bench2D_format).
</li><li>  the branch of our post_processing software (see on origo) that is called bench_3D_output creates the text file (inside the wes_data.zip) called wes_bench3d.txt. the format is as it was before: x,y,z,frameId,trajID
</li></ol>
<p><i>Hopefully, everyone can now re-run it with the same settings to get the same/close result</i>. If possible, someone has to repeat the steps (now it's easier) and type a tutorial of how to use Wesleyan data in 3D-PTV software. Since it's a nice one-plane calibration that evolves as a dynamic calibration is added - we could consider this case as a nice tutorial for the 3D-PTV users. we can also test various dynamic calibrator algorithms on this case, as a part of the post-benchmark collaboration.
</p><p><br />
</p><table id="attachments" class="sticky-enabled">
 <thead><tr><th>Attachment</th><th>Size</th> </tr></thead>
<tbody>
 <tr class="odd"><td><a href="../../system/files/wesleyandataprocessingandresults.zip">wesleyandataprocessingandresults.zip</a></td><td>998.24 KB</td> </tr>
</tbody>
</table>
</div>
    </div>
          <div class="links">&raquo; <ul class="links inline"><li class="first last comment_forbidden"><span class="comment_forbidden &lt;a href=&quot;/user/login?destination=comment%2freply%2f101%23comment-form&quot;&gt;login&lt;/a&gt; or &lt;a href=&quot;/user/register?destination=comment%2freply%2f101%23comment-form&quot;&gt;register&lt;/a&gt; to post comments"><a href="../../user/login/index-53171.html">Login</a> or <a href="../../user/register/index-53171.html">register</a> to post comments</span></li>
</ul></div>
      </div>
		<!-- CONTENT END -->

		
	</div>
<!-- END MAIN -->

<!-- START FOOTER -->
	<div id="footer">
		<a href="http://oriact.com">Powered by</a><br/>
		<a href="http://oriact.com"><img width="85" height="20" src="../../sites/all/themes/oxymoron/oriact_button.png" alt="Powered by Oriact"/></a><br/>
		<div class="clear-block block block-origo_eth" id="block-origo_eth-0">
  
  <div class="content"><a href="http://origo.ethz.ch">Hosted on </a><br/><a href="http://origo.ethz.ch"><img width="85" height="20" src="../../sites/all/themes/oxymoron/origo_button_1.png" alt="Hosted on Origo"/></a><br/><a href="http://origo.ethz.ch">a project by ETH Zürich</a><br/>&copy;<a href="http://origo.ethz.ch"> 2006 - 2010</a><br/><a href="../../global/terms_of_use/index.html">Terms of Use</a><br/></div>
</div>
	</div>
<!-- END FOOTER -->

  <!-- CLOSURE (e.g. javascript) -->
    <script type="text/javascript" src="../../sites/all/modules/google_cse/google_cse.js?n"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, { "googleCSE": { "language": "en" } });
//--><!]]>
</script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
if (Drupal.jsEnabled) {
      $(document).ready(function() {
        $('a.origo-private').each(function() {
          $(this).append('&nbsp;<img src="/sites/all/themes/oxymoron/private-page-link.png" alt="private"/>');
        });
      });
    }
//--><!]]>
</script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
if (Drupal.jsEnabled) {
      $(document).ready(function() {
        $('a.external').each(function() {
          $(this).append('&nbsp;<img src="/sites/all/modules/mediawiki_filter/external.png" alt="external"/>');
        });
      });
    }
//--><!]]>
</script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
var _gaq = _gaq || [];_gaq.push(["_setAccount", "UA-1676928-1"]);_gaq.push(["_trackPageview"]);(function() {var ga = document.createElement("script");ga.type = "text/javascript";ga.async = true;ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";var s = document.getElementsByTagName("script")[0];s.parentNode.insertBefore(ga, s);})();
//--><!]]>
</script>

</body>

</html>
<!-- Localized -->